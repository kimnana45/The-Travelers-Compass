(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,a){},102:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(55),l=a.n(c),s=(a(68),a(14)),i=a(15),o=a(18),m=a(17),u=a(6),d=a(5),E=a(16),p=a(8);a(69);function h(e){var t=e.type,a=e.classes,n=e.placeholder,c=Object(p.a)(e,["type","classes","placeholder"]);return r.a.createElement("input",Object.assign({type:t,className:"form-control "+(a||""),placeholder:n},c))}function f(e){var t=e.text,a=e.classes,n=Object(p.a)(e,["text","classes"]);return r.a.createElement("label",Object.assign({className:a},n)," ",t," ")}function b(e){var t=e.text,a=e.classes;return r.a.createElement("small",{className:"form-text text-muted mb-2 "+(a||"")}," ",t," ")}function g(e){var t=e.children,a=Object(p.a)(e,["children"]);return r.a.createElement("div",Object.assign({className:"form-group"},a)," ",t," ")}function v(e){var t=e.text,a=e.classes,n=Object(p.a)(e,["text","classes"]);return r.a.createElement("button",Object.assign({className:"btn ".concat(a)},n),t)}var x=function(e){return r.a.createElement("div",Object.assign({className:"jumbotron jumbotron-fluid"},e),r.a.createElement("div",{className:"container"},e.children))};function O(e){var t=e.fluid,a=e.children,n=e.classes,c=Object(p.a)(e,["fluid","children","classes"]);return r.a.createElement("div",Object.assign({className:"container".concat(t?"-fluid p-0":"-lg"," ")+(n||"")},c),a)}function j(e){var t=e.classes,a=e.children,n=Object(p.a)(e,["classes","children"]);return r.a.createElement("div",Object.assign({className:"row "+(t||"")},n)," ",a," ")}function N(e){var t=e.size,a=e.children;return r.a.createElement("div",{className:t.split(" ").map((function(e){return"col-"+e})).join(" ")},a)}var y=a(25),C=a.n(y),w=a(4),S=a.n(w),D=function(e){return S.a.post("/api/register",e)},z=function(e){return S.a.post("/api/login",e)},T=function(){return S.a.get("/api/authorized")},k=function(){return S.a.get("/api/logout")},I=function(e){return S.a.get("/api/user/?username="+e)},A=function(){return S.a.get("/api/user_data")},_=function(e){return S.a.get("/api/trip/".concat(e))},P=function(e){return S.a.post("/api/trip",e)},W=function(e,t){return S.a.delete("/api/trip/".concat(e))},R=function(e){return S.a.put("/api/trip",e)},F=function(e){return S.a.put("/api/jointrip",e)},U=function(e,t){return S.a.put("/api/trip/".concat(e,"/flight"),t)},M=function(e,t){return S.a.put("/api/trip/".concat(e,"/lodging"),t)},B=function(e,t){return S.a.put("/api/trip/".concat(t,"/lodging/").concat(e))},V=function(e,t){return S.a.put("/api/trip/"+e,t)},L=function(e,t){return S.a.put("/api/trip/picture/".concat(e),t)},Y=function(e,t){return S.a.put("/api/trip/".concat(t,"/ideas/").concat(e))},H=function(e,t){return S.a.put("/api/trip/".concat(e,"/ideas"),t)},K=function(e){return S.a.put("/api/trip/emergencyContact",e)},G=(a(86),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",error:"",display:!1,redirect:"/"},e.login=function(t){t.preventDefault(),z({username:e.state.username.toLowerCase(),password:e.state.password}).then((function(t){t.data.message?e.setState({error:t.data.message}):(console.log("login successful"),e.props.isAuthorized())})).catch((function(t){console.log(t),e.setState({error:"A server error has occured."})})),e.setState({password:""})},e.handleInputChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(E.a)({},n,r.trim()))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.setState({redirect:this.props.redirect})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{style:{backgroundColor:"#222323",height:"auto",color:"white"}},r.a.createElement(j,null,r.a.createElement(N,{size:"md-8 d-none d-sm-block"},r.a.createElement("img",{src:C.a,className:"img-fluid"})),r.a.createElement(N,{size:"md-4"},r.a.createElement("h1",{className:"mt-4",id:"headerWordRed"},"start planning your next vacation!")))),r.a.createElement(j,{className:"mt-2"},this.props.authorized?r.a.createElement(d.a,{to:"/login"===this.state.redirect?"/":this.state.redirect}):r.a.createElement("div",{className:"container loginContainer"},r.a.createElement("form",null,r.a.createElement(g,null,r.a.createElement(f,{text:"Username"}),r.a.createElement(h,{name:"username",value:this.state.username,onChange:this.handleInputChange,type:"text"})),r.a.createElement(g,null,r.a.createElement(f,{text:"Password"}),r.a.createElement(h,{name:"password",value:this.state.password,onChange:this.handleInputChange,type:"password"})),this.state.error?r.a.createElement(b,{text:this.state.error}):"",r.a.createElement(v,{disabled:this.state.username&&this.state.password?"":"disabled",text:"Login",onClick:this.login,classes:"btn-light"}),r.a.createElement(u.b,{to:"/register"},"Not registered? Click here.")))))}}]),a}(n.Component)),$=a(3),q=a(26),J=a.n(q);function Z(e){var t=e.children,a=e.classes,n=Object(p.a)(e,["children","classes"]);return r.a.createElement("div",Object.assign({className:"card border-light my-1 "+(a||"")},n),t)}function Q(e){var t=e.children,a=e.classes,n=Object(p.a)(e,["children","classes"]);return r.a.createElement("div",Object.assign({className:a},n),t)}function X(e){var t=e.text,a=e.classes,n=Object(p.a)(e,["text","classes"]);return r.a.createElement("h3",Object.assign({className:"card-header text-center "+(a||"")},n),t)}function ee(e){var t=e.src,a=e.alt,n=e.classes,c=(e.onClick,Object(p.a)(e,["src","alt","classes","onClick"]));return r.a.createElement("img",Object.assign({src:t,className:"card-img-top "+(n||""),alt:a},c))}a(99);var te=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={firstName:"",lastName:"",username:"",email:"",password:"",confirm:"",profilePic:"",validUN:!1,validEM:!1,validPW:!1,validCF:!1,error:"",reg:new RegExp(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},e.validateField=function(t,a){switch(t){case"username":a.length>7?I(a.toLowerCase()).then((function(t){t.data.length<1?e.setState({validUN:!0}):e.setState({validUN:!1})})).catch((function(e){console.log(e)})):e.setState({validUN:!1});break;case"email":e.setState({validEM:e.state.reg.test(a)});break;case"password":e.setState({validPW:a.length>7,validCF:a.length>7&&a===e.state.confirm});break;case"confirm":e.setState({validCF:e.state.validPW&&e.state.password===a})}},e.register=function(t){t.preventDefault(),D({firstName:e.state.firstName.toUpperCase(),lastName:e.state.lastName.toUpperCase(),username:e.state.username.toLowerCase(),email:e.state.email.toUpperCase(),password:e.state.password,profilePic:e.state.profilePic}).then((function(t){t.data.message?e.setState(Object($.a)(Object($.a)({},e.state),{},{error:t.data.message})):(console.log("registration successful"),e.props.isAuthorized())})).catch((function(t){console.log(t),e.setState(Object($.a)(Object($.a)({},e.state),{},{error:"A server error has occured."}))})),e.setState(Object($.a)(Object($.a)({},e.state),{},{password:"",confirm:""}))},e.handleInputChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object($.a)(Object($.a)({},e.state),{},Object(E.a)({},n,r))),e.validateField(n,r)},e.onSuccess=function(t){e.setState(Object($.a)(Object($.a)({},e.state),{},{profilePic:t.filesUploaded[0].url}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container registerContainer"},r.a.createElement("form",null,r.a.createElement(g,null,r.a.createElement(j,null,r.a.createElement(N,{size:"md-4"},this.state.profilePic?r.a.createElement(ee,{src:this.state.profilePic,classes:"img-thumbnail mt-2"}):r.a.createElement(ee,{src:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_640.png",classes:"img-thumbnail mt-2"}),r.a.createElement(J.a,{apikey:"AG4hPSOMQruX3SKmPWtD0z",mode:"pick",onSuccess:function(t){return e.onSuccess(t)},onError:function(e){return console.log(e)},componentDisplayMode:{type:"button",customText:"upload profile pic"}})),r.a.createElement(N,{size:"md-8"},r.a.createElement(f,{text:"First Name"}),r.a.createElement(h,{name:"firstName",value:this.state.firstName,onChange:this.handleInputChange,placeholder:"First Name",type:"text"}),r.a.createElement("br",null),r.a.createElement(f,{text:"Last Name"}),r.a.createElement(h,{name:"lastName",value:this.state.lastName,onChange:this.handleInputChange,placeholder:"Last Name",type:"text"}),r.a.createElement("br",null))),r.a.createElement(f,{text:"Username"}),r.a.createElement(h,{name:"username",value:this.state.username,onChange:this.handleInputChange,placeholder:"at least 8 characters",type:"text"}),this.state.validUN?r.a.createElement(b,{text:"Username is available"}):r.a.createElement(b,{text:"Username is not available"})),r.a.createElement(g,{classes:"m-0 p-0"},r.a.createElement(f,{text:"Email"}),r.a.createElement(h,{name:"email",value:this.state.email,onChange:this.handleInputChange,placeholder:"Email",type:"email"}),this.state.validEM?r.a.createElement(b,{text:"Email is valid"}):r.a.createElement(b,{text:"Email is invalid"})),r.a.createElement(g,{classes:"m-0 p-0"},r.a.createElement(f,{text:"Password"}),r.a.createElement(h,{name:"password",value:this.state.password,onChange:this.handleInputChange,placeholder:"at least 8 characters",type:"password"}),this.state.validPW?r.a.createElement(b,{text:"Password is valid"}):r.a.createElement(b,{text:"Password must be at least 8 characters"})),r.a.createElement(g,{classes:"m-0 p-0"},r.a.createElement(f,{text:"Confirm Password"}),r.a.createElement(h,{name:"confirm",value:this.state.confirm,onChange:this.handleInputChange,type:"password"}),this.state.validCF?r.a.createElement(b,{text:"Passwords match"}):r.a.createElement(b,{text:"Passwords don't match"})),this.state.error?r.a.createElement(b,{text:this.state.error}):"",r.a.createElement(g,{classes:"m-0 p-0"},r.a.createElement(v,{disabled:this.state.validUN&&this.state.validEM&&this.state.validCF?"":"disabled",text:"Submit",onClick:this.register,classes:"btn-danger"}),r.a.createElement(u.b,{to:"/login"},"Already registered? Click here."))))}}]),a}(n.Component);var ae=function(){return r.a.createElement(O,{fluid:!0},r.a.createElement(x,{style:{backgroundColor:"#222323",height:"100vh",color:"white"}},r.a.createElement(j,null,r.a.createElement(N,{size:"md-8 d-none d-sm-block"},r.a.createElement("img",{src:C.a,className:"img-fluid"})),r.a.createElement(N,{size:"md-4"},r.a.createElement("h1",{id:"headerWordRed"},"start planning your next vacation!"))),r.a.createElement(j,{style:{textAlign:"left",paddingTop:"40px"}},r.a.createElement(N,{size:"md-11"},r.a.createElement("br",null),r.a.createElement("h3",{id:"subHeaderWord"},"Your Guide To Your Next Adventure ",r.a.createElement("i",{className:"fas fa-suitcase-rolling"}))))))},ne=a(57),re=a.n(ne),ce=function(e){var t=e.authorized,a=e.logout;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark",style:{backgroundColor:"#222323"}},r.a.createElement("img",{src:re.a,alt:"traveler's compass logo",className:"mx-auto",style:{width:"150px"}}),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation",style:{width:"auto"}},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse text-right",id:"navbarTogglerDemo02"},r.a.createElement("ul",{className:"navbar-nav ml-auto mt-2 mt-lg-0"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"nav-link",href:"/"},"Home ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},t?r.a.createElement("a",{className:"nav-link",onClick:a},"Logout"):r.a.createElement("a",{className:"nav-link",href:"/login"},"Login")),r.a.createElement("li",{className:"nav-item"},t?r.a.createElement("span",null):r.a.createElement("a",{className:"nav-link",href:"/register"},"Signup")))))};function le(e){var t=e.children;return r.a.createElement("nav",{className:"navbar fixed-bottom navbar-light bg-light",id:"footer"},t)}function se(e){var t=e.classes,a=e.children;return r.a.createElement("span",{className:"navbar-brand "+(t||"")},a)}a(100);var ie=function(e){var t=e.children;return r.a.createElement("main",{className:"wrapper"},t)},oe=a(1),me=a(116),ue=a(12),de=a.n(ue);function Ee(e){var t=e.children;return r.a.createElement("div",{className:"accordion",id:"accordionExample"},t)}function pe(e){var t=e.classes,a=e.num,n=e.text,c=e.title,l=e.children;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header "+(t||""),id:"heading".concat(a)},r.a.createElement("button",{className:"btn btn-link text-left",type:"button","data-toggle":"collapse","data-target":"#collapse".concat(a),"aria-expanded":"true","aria-controls":"collapse".concat(a)},r.a.createElement("h5",null,c)),r.a.createElement("small",{className:"m-0 p-0 font-italic"},n)),l)}function he(e){var t=e.num,a=e.children;return r.a.createElement("div",{id:"collapse".concat(t),className:"collapse collapsed","aria-labelledby":"heading".concat(t),"data-parent":"#accordionExample"},r.a.createElement("div",{className:"card-body"},a))}var fe=a(58),be=a.n(fe);var ge=function(e){var t=e.trip,a=e.deleteTrip,n=e.removeTravelerFromTrip,c=e.userId,l=de()().format("YYYY-MM-D"),s=de()(l).isBefore(t.dates.startDate);return r.a.createElement(Q,{key:t._id,classes:"p-2 m-1 border rounded-lg text-center"},t.creator===c?r.a.createElement(v,{classes:"float-right btn-sm text-danger",text:"delete trip",style:{width:"auto"},onClick:function(){return a(t._id)}}):r.a.createElement(v,{classes:"float-right btn-sm text-danger",text:"remove me from this trip",style:{width:"auto"},onClick:function(){return n(c,t._id)}}),s&&r.a.createElement(be.a,{fromNow:!0},t.dates.startDate),r.a.createElement(u.b,{to:"/trip/".concat(t._id),key:t._id},r.a.createElement(v,{classes:"float-left btn-sm text-info",text:"view itinerary",style:{width:"auto"}}),r.a.createElement("br",null)),r.a.createElement("h3",{id:"subHeaderWord",className:"mt-2 mb-4 text-center"},t.tripName),r.a.createElement(j,null,r.a.createElement(N,{size:"md-4"},r.a.createElement("i",{className:"far fa-compass fa-2x mx-auto"}),r.a.createElement("p",{className:"text-center"},t.location[0].name+", "+(t.location[0].administrative?t.location[0].administrative:t.location[0].country))),r.a.createElement(N,{size:"md-4"},r.a.createElement("i",{className:"fas fa-calendar-alt fa-2x mx-auto"}),r.a.createElement("p",{className:"text-center"},de()(t.dates.start).format("MMM Do YY")," -"," ",de()(t.dates.end).format("MMM Do YY"))),r.a.createElement(N,{size:"md-4"},r.a.createElement("i",{className:"fas fa-key fa-2x mx-auto"}),r.a.createElement("p",{className:"text-center"},t.uniqueCode))))};a(102);var ve=function(){var e=Object(n.useState)({trips:[],id:"",name:"",username:"",profilePic:""}),t=Object(oe.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)({set:!1,name:"",number:""}),s=Object(oe.a)(l,2),i=s[0],o=s[1],m=Object(n.useState)([]),E=Object(oe.a)(m,2),p=E[0],x=E[1],y=Object(n.useState)([]),C=Object(oe.a)(y,2),w=C[0],S=C[1],D=Object(n.useState)([]),z=Object(oe.a)(D,2),T=z[0],k=z[1],I=Object(n.useState)(),_=Object(oe.a)(I,2),P=_[0],U=_[1],M=Object(n.useState)(),B=Object(oe.a)(M,2),V=B[0],L=B[1],Y=Object(me.a)(""),H=Object(me.a)(""),G=Object(me.a)(""),$=Object(me.a)(""),q=Object(n.useState)(!1),J=Object(oe.a)(q,2),X=J[0],te=J[1],ae=Object(n.useState)(!1),ne=Object(oe.a)(ae,2),re=ne[0],ce=ne[1],le=Object(n.useState)(!1),se=Object(oe.a)(le,2),ie=se[0],ue=se[1];Object(n.useLayoutEffect)((function(){A().then((function(e){var t=e.data,a=t.trips,n=t.firstName,r=t.lastName,l=t.username,s=t._id,i=t.profilePic,m=t.emergencyContact;c({trips:a,id:s,name:"".concat(n," ").concat(r),username:l,profilePic:i}),m&&o({set:!0,name:m.name,number:m.number}),ve(a)})).catch((function(e){return console.log(e)}))}),[ie]);var fe=function(e){W(e).then((function(e){ue(!0)})).catch((function(e){e&&console.log(e)}))},be=function(e,t){R({userId:e,tripId:t}).then((function(e){return ue(!0)})).catch((function(e){e&&console.log(e)}))},ve=function(e){for(var t=[],a=[],n=[],r=0;r<e.length;r++){var c=de()(e[r].dates.startDate).format("YYYY-MM-D"),l=de()(e[r].dates.endDate).format("YYYY-MM-D"),s=de()().format("YYYY-MM-D"),i=de()(s).isBefore(c),o=de()(s).isAfter(c),m=de()(s).isBetween(c,l);i?n.push(e[r]):m?a.push(e[r]):o&&t.push(e[r])}x(t),S(a),k(n)};if(X){console.log(X);a.trips.length;return r.a.createElement(d.a,{to:"/trip/".concat(V)})}return re?r.a.createElement(d.a,{to:"/newtrip"}):r.a.createElement(O,null,r.a.createElement("div",{className:"mt-3"},r.a.createElement(j,null,r.a.createElement(N,{size:"md-4"},r.a.createElement(Z,null,r.a.createElement(Q,{classes:"mx-auto my-2"},r.a.createElement(ee,{src:a.profilePic,alt:a.username,classes:"img-thumbnail",id:"profilePic"})),r.a.createElement(Q,{classes:"mx-auto"},r.a.createElement("h2",{id:"subHeaderWord"},a.username),r.a.createElement("h4",{className:"text-center"},a.name),T.length>0&&r.a.createElement("h6",{className:"text-center"},T.length," future ",1===T.length?"trip":"trips"," being planned"),p.length>0&&r.a.createElement("h6",{className:"text-center"},p.length," past ",1===p.length?"trip":"trips"))),r.a.createElement(Ee,null,p.length>0&&r.a.createElement(pe,{num:"One",title:"All Past Itineraries"},r.a.createElement(he,{num:"One"},p.map((function(e){return r.a.createElement(u.b,{to:"/trip/".concat(e._id),key:e._id},e.tripName," to ",e.location[0].name)})))),r.a.createElement(pe,{num:"Two",title:"Join an existing itinerary"},r.a.createElement(he,{num:"Two"},r.a.createElement("form",null,r.a.createElement(g,null,r.a.createElement(f,{text:"Enter Unique Trip Code"}),r.a.createElement(b,{text:"case sensitive"}),r.a.createElement(h,Object.assign({name:"tripCode",type:"text"},Y.eventBind)),r.a.createElement(f,{text:"Enter Trip password"}),r.a.createElement(b,{text:"case sensitive"}),r.a.createElement(h,Object.assign({name:"tripPassword",type:"text"},H.eventBind))),P?r.a.createElement(b,{text:P}):"",r.a.createElement(v,{text:"Find Existing Itinerary",onClick:function(e){e.preventDefault(),F({code:Y.value,password:H.value}).then((function(e){var t=e.data,a=t.trips.length-1;L(t.trips[a]),te(!0)})).catch((function(e){e&&U("Code or Password is Incorrect"),Y.setValue(""),H.setValue(""),te(!1)}))},classes:"btn-danger"})))),r.a.createElement(pe,{num:"Three",title:"Set your emergency contact info"},r.a.createElement(he,{num:"Three"},i.set?r.a.createElement("span",{className:"text-center"},"Current emergency contact:",r.a.createElement("br",null),r.a.createElement("i",{className:"far fa-address-card fa-3x ml-4 float-left"}),r.a.createElement("strong",{className:"ml-4"},"name: ",i.name),r.a.createElement("br",null),r.a.createElement("strong",{className:"ml-4"},"number: ",i.number)):"",r.a.createElement("form",{className:"mt-1"},r.a.createElement(g,null,r.a.createElement(f,{text:"Emergency Contact Name"}),r.a.createElement(h,Object.assign({name:"emergencyContactName",value:G,type:"text"},G.eventBind)),r.a.createElement(f,{text:"Emergency Contact Phone Number"}),r.a.createElement(b,{text:"please include area code"}),r.a.createElement(h,Object.assign({name:"emergencyContactNum",value:$,type:"text"},$.eventBind))),r.a.createElement(v,{text:i.set?"Update your emergency contact info":"Set your emergency contact info",onClick:function(e){e.preventDefault(),K({id:a.id,name:G.value,number:$.value}).then((function(e){var t=e.data.emergencyContact,a=t.name,n=t.number;o({set:!0,name:a,number:n})})).catch((function(e){e&&console.log(e)})),G.setValue(""),$.setValue("")},classes:"btn-danger"})))))),r.a.createElement(N,{size:"md-8"},r.a.createElement(v,{type:"button",text:"start a new itinerary",classes:"btn-dark btn-lg",onClick:function(){return ce(!0)}}),r.a.createElement(Z,{id:"currentTripsContainer"},w.length>0&&r.a.createElement(Z,{classes:"p-2 justify-content-center"},r.a.createElement("h1",{id:"headerWordTeal",className:"text-left"},"current ",1===w.length?"trip":"trips"),w.map((function(e){return r.a.createElement(ge,{key:e._id,trip:e,deleteTrip:fe,removeTravelerFromTrip:be,userId:a.id})})))),r.a.createElement(Z,{id:"futureTripsContainer"},T.length>0&&r.a.createElement(Z,{classes:"p-2 justify-content-center"},r.a.createElement("h1",{id:"headerWordTeal",className:"text-left"},"upcoming ",1===T.length?"trip":"trips"),T.map((function(e){return r.a.createElement(ge,{key:e._id,trip:e,deleteTrip:fe,removeTravelerFromTrip:be,userId:a.id})})))),0===a.trips.length?r.a.createElement(Z,null,r.a.createElement(Q,{classes:"p-3"},r.a.createElement("h2",{id:"subHeaderWord"},"bummer, no upcoming trips..."),r.a.createElement("h2",{id:"subHeaderWord"},"join an existing itinerary or start planning a new one."))):""))))},xe=a(35),Oe=a(28),je=a.n(Oe),Ne=a(30);a(108);var ye=function(e){var t=e.userId,a=Object(n.useState)(),c=Object(oe.a)(a,2),l=c[0],s=c[1],i=Object(n.useState)({tripName:"",validTN:!1}),o=Object(oe.a)(i,2),m=o[0],u=o[1],E=Object(n.useState)({location:{},validLocation:!1}),p=Object(oe.a)(E,2),x=p[0],y=p[1],C=Object(n.useState)({startDate:null,endDate:null,focusedInput:Ne.b}),w=Object(oe.a)(C,2),S=w[0],D=w[1],z=Object(n.useState)({password:"",validPW:!1}),T=Object(oe.a)(z,2),k=T[0],I=T[1],A=Object(n.useState)(!1),_=Object(oe.a)(A,2),W=_[0],R=_[1];function F(e){e.focusedInput?D(e):D(Object($.a)(Object($.a)({},e),{},{focusedInput:Ne.b}))}function U(e){var t=e.target,a=t.name,n=t.value;switch(a){case"tripName":return u({tripName:n,validTN:!0});case"dates":return F();case"password":return I({password:n,validPW:!0})}}return W?r.a.createElement(d.a,{to:"/trip/".concat(l)}):r.a.createElement(O,null,r.a.createElement(j,{className:"mt-2"},r.a.createElement("form",null,r.a.createElement(j,null,r.a.createElement(f,{text:"Unique trip code to share with others: ".concat(t)})),r.a.createElement(j,null,r.a.createElement(N,{size:"md-6"},r.a.createElement(g,null,r.a.createElement(f,{text:"Trip Name"}),r.a.createElement(b,{text:"(Ex: Roadtrip to Rocky Mtns!)"}),r.a.createElement(h,{name:"tripName",value:m.tripName,onChange:U,placeholder:"Your Trip Name"}))),r.a.createElement(N,{size:"md-6"},r.a.createElement(g,null,r.a.createElement(f,{text:"Set a password for your trip"}),r.a.createElement(b,{text:"Must be minimum of 6 characters."}),r.a.createElement(h,{name:"password",value:k.password,onChange:U,placeholder:"Trip Password"})))),r.a.createElement(g,null,r.a.createElement(j,null,r.a.createElement(f,{text:"Where are you going?",classes:"ml-3"})),r.a.createElement(j,null,r.a.createElement(N,{size:"12"},r.a.createElement(je.a,{placeholder:"Search by city",name:"location",options:{appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).appID,apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).apiKEY,language:"en",type:"city"},onChange:function(e){var t=e.suggestion;return y({location:t,validLocation:!0})},onClear:function(){}})))),r.a.createElement(g,null,r.a.createElement(f,{text:"What are the dates of the trip?"}),r.a.createElement(Ne.a,{onDatesChange:F,startDate:S.startDate,endDate:S.endDate,focusedInput:S.focusedInput})),r.a.createElement(v,{disabled:m.validTN&&x.validLocation&&S.startDate&&S.endDate&&k.validPW?"":"disabled",text:"Start Planning!",onClick:function(e){e.preventDefault(),P({tripName:m.tripName.toUpperCase(),location:x.location,dates:S,password:k.password,creatorId:t,uniqueCode:"".concat(new xe(/^[0-9a-z]{6}$/).gen(),"-").concat(new xe(/^[0-9A-Z]{6}$/).gen())}).then((function(e){var t=e.data.trips,a=t.length-1;s(t[a]),R(!0)})).catch((function(e){return console.log(e)}))},classes:"btn-danger",type:"submit"}))))},Ce=(a(109),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={tripName:"",tripPassword:""},e.handleInputChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(E.a)({},n,r.trim()))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,null,r.a.createElement("h4",{className:"mx-auto mt-2"},"Join an existing trip:")),r.a.createElement(j,{className:"mt-2"},r.a.createElement("div",{className:"container"},r.a.createElement("form",null,r.a.createElement(g,null,r.a.createElement(f,{text:"Trip Name:"}),r.a.createElement(h,{name:"tripName",value:this.state.tripName,onChange:this.handleInputChange,type:"text"})),r.a.createElement(g,null,r.a.createElement(f,{text:"Trip's Password:"}),r.a.createElement(h,{name:"tripPassword",value:this.state.tripPassword,onChange:this.handleInputChange,type:"text"})),r.a.createElement(v,{text:"Find Existing Itinerary",classes:"btn-primary"})))))}}]),a}(n.Component)),we=a(37);a(110);function Se(e){var t=e.children,a=Object(p.a)(e,["children"]);return r.a.createElement("div",{className:"list-overflow-container"},r.a.createElement("ul",Object.assign({className:"list-group"},a),t))}function De(e){var t=e.children,a=Object(p.a)(e,["children"]);return r.a.createElement("li",Object.assign({className:"list-group-item"},a),t)}a(111);var ze=function(){var e=Object(n.useState)(),t=Object(oe.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),s=Object(oe.a)(l,2),i=s[0],o=s[1],m=Object(n.useState)(),E=Object(oe.a)(m,2),p=(E[0],E[1]),x=Object(n.useState)(),y=Object(oe.a)(x,2),C=y[0],w=y[1],S=Object(n.useState)({startDate:"",endDate:""}),D=Object(oe.a)(S,2),z=D[0],T=D[1],k=Object(n.useState)([]),I=Object(oe.a)(k,2),P=I[0],W=I[1],R=Object(n.useState)(),F=Object(oe.a)(R,2),V=F[0],L=F[1],Y=Object(n.useState)([]),H=Object(oe.a)(Y,2),K=H[0],G=H[1],$=Object(n.useState)([]),q=Object(oe.a)($,2),J=q[0],Z=q[1],te=Object(n.useState)(!1),ae=Object(oe.a)(te,2),ne=ae[0],re=ae[1],ce=Object(me.a)(""),le=Object(me.a)(""),se=Object(me.a)(""),ie=Object(me.a)(""),ue=Object(me.a)(""),de=Object(me.a)(""),fe=Object(me.a)(""),be=Object(me.a)(""),ge=Object(me.a)(""),ve=Object(me.a)(""),xe=Object(me.a)(""),Oe=Object(me.a)(""),je=Object(me.a)(""),Ne=Object(me.a)(""),ye=Object(me.a)(""),Ce=Object(me.a)(""),ze=Object(me.a)(""),Te=Object(d.g)().id;return Object(n.useEffect)((function(){A().then((function(e){var t=e.data;return L("".concat(t.firstName," ").concat(t.lastName))})).catch((function(e){return console.log(e)})),_(Te).then((function(e){var t=e.data,a=t.dates,n=t.location,r=t.tripName,l=t.uniqueCode,s=t.travelers,i=t._id,m=t.lodging,u=t.flights;c(r),o(i),p(l),T({startDate:Object(we.a)(a.startDate).toString().slice(0,15),endDate:Object(we.a)(a.endDate).toString().slice(0,15)}),W(s),G(u),Z(m);for(var d=0;d<s.length;d++)s[d].emergencyContact&&re(!0);n[0].administrative?w("".concat(n[0].name,", ").concat(n[0].administrative)):w("".concat(n[0].name,", ").concat(n[0].country))})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement(O,{fluid:!0,classes:"p-2"},r.a.createElement(j,null,r.a.createElement(N,{size:"md-8"},r.a.createElement("div",{classes:"justify-content-center",id:"postcard"},r.a.createElement(j,{classes:"p-4"},r.a.createElement(N,{size:"md-5"},r.a.createElement(ee,{src:"https://source.unsplash.com/1600x900/?outdoor",alt:"randomPhoto",classes:"mt-3 rounded mx-auto d-block img-thumbnail",style:{width:"300px",height:"370px"}})),r.a.createElement(N,{size:"md-1"},r.a.createElement(ee,{src:"https://theblondeabroad.com/wp-content/themes/tba/images/postcard-divider@2x.png",alt:"randomPhoto",classes:"d-none d-lg-block",style:{height:"400px"}})),r.a.createElement(N,{size:"md-6"},r.a.createElement(ee,{src:"https://theblondeabroad.com/wp-content/themes/tba/images/about-stamp-waves@2x.png",classes:"float-right d-none d-lg-block mb-3",style:{width:"120px",height:"80px"}}),r.a.createElement("br",null),r.a.createElement("h1",{id:"tripFont"},a),r.a.createElement("h3",{id:"tripFont",style:{fontSize:"22px"}},"  "),r.a.createElement(j,null,r.a.createElement(N,{size:"6"},r.a.createElement("h5",{id:"tripFont",className:"text-right"},"on the way to...")),r.a.createElement(N,{size:"6"},r.a.createElement("h5",{id:"tripFont"},C))),r.a.createElement(j,{classes:"justify-content-center"},r.a.createElement("h5",{id:"tripFont"},"from ".concat(z.startDate," to ").concat(z.endDate))),r.a.createElement(j,{classes:"mt-5"},r.a.createElement(N,{size:"md-2 6"},r.a.createElement(u.b,{to:"/"},r.a.createElement("h5",{id:"tripFont"},"home"))),r.a.createElement(N,{size:"md-4 6"},r.a.createElement(u.b,{to:"/gallery/".concat(Te)},r.a.createElement("h5",{id:"tripFont"},"photo gallery"))),r.a.createElement(N,{size:"md-3 6"},r.a.createElement(u.b,{to:"/ideas/?trip=".concat(Te)},r.a.createElement("h5",{id:"tripFont"},"todo list"))),r.a.createElement(N,{size:"md-3 6"},r.a.createElement(u.b,{to:"/budget/".concat(Te)},r.a.createElement("h5",{id:"tripFont"},"expenses"))))))),r.a.createElement(j,{className:"mt-3"},r.a.createElement(Ee,null,r.a.createElement(pe,{num:"One",title:"Add Flight Details",classes:"bg-light text-dark"},r.a.createElement(he,{num:"One"},r.a.createElement("form",{style:{margin:"0",maxWidth:"100%"}},r.a.createElement(g,null,r.a.createElement("h5",{className:"mt-2"},"Enter Your Flight Details"),r.a.createElement(j,null,r.a.createElement(N,{size:"6"},r.a.createElement(f,{text:"Airline"}),r.a.createElement(b,{text:"Ex: Delta"}),r.a.createElement(h,Object.assign({name:"airlineInput",type:"text"},ce.eventBind))),r.a.createElement(N,{size:"6"},r.a.createElement(f,{text:"Flight Number"}),r.a.createElement(b,{text:"Ex: BA2490"}),r.a.createElement(h,Object.assign({name:"flightNoInput",type:"text"},le.eventBind)))),r.a.createElement("h5",{className:"mt-2"},"Departure Details:"),r.a.createElement(j,null,r.a.createElement(N,{size:"md-3 6"},r.a.createElement(f,{text:"Airport Code"}),r.a.createElement(b,{text:"Ex: MCO"}),r.a.createElement(h,Object.assign({name:"departingAirportInput",type:"text",maxLength:"3"},se.eventBind))),r.a.createElement(N,{size:"md-3 6"},r.a.createElement(f,{text:"Seat Assignment"}),r.a.createElement(b,{text:"Ex: 20D"}),r.a.createElement(h,Object.assign({name:"departingSeatInput",type:"text"},de.eventBind))),r.a.createElement(N,{size:"md-3 6"},r.a.createElement(f,{text:"Time"}),r.a.createElement(b,{text:"Ex: "}),r.a.createElement(h,Object.assign({name:"departingTimeInput",type:"time"},ue.eventBind))),r.a.createElement(N,{size:"md-3 6"},r.a.createElement(f,{text:"Date"}),r.a.createElement(b,{text:"Please choose a date"}),r.a.createElement(h,Object.assign({name:"departingDateInput",type:"date"},ie.eventBind)))),r.a.createElement("h5",{className:"mt-2"},"Arrival Details:"),r.a.createElement(j,null,r.a.createElement(N,{size:"md-3 6"},r.a.createElement(f,{text:"Airport Code"}),r.a.createElement(b,{text:"Ex: MCO"}),r.a.createElement(h,Object.assign({name:"arrivalAirportInput",type:"text",maxLength:"3"},fe.eventBind))),r.a.createElement(N,{size:"md-3 6"},r.a.createElement(f,{text:"Seat Assignment"}),r.a.createElement(b,{text:"Ex: 20D"}),r.a.createElement(h,Object.assign({name:"arrivalSeatInput",type:"text"},ve.eventBind))),r.a.createElement(N,{size:"md-3 6"},r.a.createElement(f,{text:"Time"}),r.a.createElement(b,{text:"Ex: "}),r.a.createElement(h,Object.assign({name:"arrivalTimeInput",type:"time"},ge.eventBind))),r.a.createElement(N,{size:"md-3 6"},r.a.createElement(f,{text:"Date"}),r.a.createElement(b,{text:"Please choose a date"}),r.a.createElement(h,Object.assign({name:"arrivalDateInput",type:"date"},be.eventBind))))),r.a.createElement(v,{text:"Add flight",classes:"btn-danger",onClick:function(e){return function(e){e.preventDefault();var t={user:V,airline:ce.value.toUpperCase(),flightNo:le.value.toUpperCase(),departing:{airport:se.value.toUpperCase(),date:ie.value,time:ue.value,seat:de.value.toUpperCase()},arriving:{airport:fe.value.toUpperCase(),date:be.value,time:ge.value,seat:ve.value.toUpperCase()}};U(i,t).then((function(e){var t=e.data;return G(t)})).catch((function(e){return console.log(e)})),ce.setValue(""),le.setValue(""),se.setValue(""),ie.setValue(""),de.setValue(""),ue.setValue(""),fe.setValue(""),be.setValue(""),ve.setValue(""),ge.setValue("")}(e)}})))),r.a.createElement(pe,{num:"Two",title:"Add Lodging Details",classes:"bg-light text-dark"},r.a.createElement(he,{num:"Two"},r.a.createElement("form",{style:{margin:"0",maxWidth:"100%"}},r.a.createElement(g,null,r.a.createElement("h5",{className:"mt-2"},"Enter Accommodation Details"),r.a.createElement(j,null,r.a.createElement(N,{size:"md-3 6"},r.a.createElement(f,{text:"Name of accommodation"}),r.a.createElement(b,{text:"Ex: Marriott / Airbnb"}),r.a.createElement(h,Object.assign({name:"hotelInput",type:"text"},xe.eventBind))),r.a.createElement(N,{size:"md-3 6"},r.a.createElement(f,{text:"Room #"}),r.a.createElement(b,{text:"(if applicable)"}),r.a.createElement(h,Object.assign({name:"roomNumberInput",type:"text"},je.eventBind))),r.a.createElement(N,{size:"md-3 6"},r.a.createElement(f,{text:"Wifi Name"}),r.a.createElement(b,{text:"(optional)"}),r.a.createElement(h,Object.assign({name:"wifiNameInput",type:"text"},Ce.eventBind))),r.a.createElement(N,{size:"md-3 6"},r.a.createElement(f,{text:"Wifi Password"}),r.a.createElement(b,{text:"(optional)"}),r.a.createElement(h,Object.assign({name:"wifiPwInput",type:"text"},ze.eventBind)))),r.a.createElement(j,null,r.a.createElement(N,{size:"md-6"},r.a.createElement(f,{text:"Address"}),r.a.createElement(b,{text:"Ex: 12938 streetnamehere blvd, orlando, FL 32839"}),r.a.createElement(h,Object.assign({name:"addressInput",type:"text"},Oe.eventBind))),r.a.createElement(N,{size:"md-3 6"},r.a.createElement(f,{text:"Check-in Date"}),r.a.createElement(h,Object.assign({name:"checkInDateInput",type:"date"},Ne.eventBind))),r.a.createElement(N,{size:"md-3 6"},r.a.createElement(f,{text:"Check-out Date"}),r.a.createElement(h,Object.assign({name:"checkOutDateInput",type:"date"},ye.eventBind))))),r.a.createElement(v,{text:"Add Lodging",classes:"btn-danger",onClick:function(e){return function(e){e.preventDefault();var t={service:xe.value,address:Oe.value,hotelNum:je.value,wifiInfo:{name:Ce.value,password:ze.value},checkIn:Ne.value,checkOut:ye.value};M(i,t).then((function(e){var t=e.data;return Z(t)})).catch((function(e){return console.log(e)})),xe.setValue(""),Oe.setValue(""),je.setValue(""),Ce.setValue(""),ze.setValue(""),Ne.setValue(""),ye.setValue("")}(e)}}))))))),r.a.createElement(N,{size:"md-4"},P.length>1?r.a.createElement(j,null,r.a.createElement(N,{size:"md-12"},r.a.createElement(Q,null,r.a.createElement(X,{text:"Travelers",id:"headerDiv"}),P.map((function(e){return r.a.createElement("span",{className:"card-body d-inline-flex",key:e._id},e.profilePic?r.a.createElement(ee,{src:e.profilePic,alt:e.username,classes:"img-thumbnail",id:"thumbnailPic"}):r.a.createElement("i",{className:"fas fa-suitcase px-2 "}),r.a.createElement("h6",{className:"text-monospace my-auto ml-2"},e.firstName,r.a.createElement("br",null)," ",e.lastName))}))))):r.a.createElement("span",null),r.a.createElement(j,null,r.a.createElement(N,{size:"md-12"},r.a.createElement(Q,null,r.a.createElement(X,{text:"Emergency Contacts",id:"headerDiv"}),ne?r.a.createElement(Q,{classes:"overflow-auto"},P.filter((function(e){return e.emergencyContact})).map((function(e){return r.a.createElement(Se,{key:e._id},r.a.createElement(De,null,r.a.createElement("span",null,r.a.createElement(b,{className:"text-monospace",text:"Traveler: ".concat(e.firstName," ").concat(e.lastName)}),r.a.createElement("i",{className:"far fa-address-card fa-3x ml-2 mr-2 float-left"}),r.a.createElement(b,{className:"text-monospace",text:"name: ".concat(e.emergencyContact.name)}),r.a.createElement(b,{className:"text-monospace",text:"number: ".concat(e.emergencyContact.number)}))))}))):r.a.createElement(Q,{classes:"p-3 bg-white border"},r.a.createElement("h6",{className:"font-italic text-monospace"},"No emergency contact information is available"))))),r.a.createElement(j,null,r.a.createElement(N,{size:"md-12"},r.a.createElement(Q,null,r.a.createElement(X,{text:"Accommodations",id:"headerDiv"}),J.length>0?r.a.createElement(Q,{classes:"overflow-auto",style:{height:"auto"}},J.map((function(e){return r.a.createElement(Se,{key:e._id},r.a.createElement(De,null,r.a.createElement(j,null,r.a.createElement(N,{size:"4"},r.a.createElement(b,{text:"lodging"})),r.a.createElement(N,{size:"8"},r.a.createElement(b,{text:e.service,classes:"text-right text-monospace"}))),r.a.createElement(j,null,r.a.createElement(N,{size:"4"},r.a.createElement(b,{text:"address"})),r.a.createElement(N,{size:"8"},r.a.createElement(b,{text:e.address,classes:"text-right text-monospace"}))),e.hotelNum&&r.a.createElement(j,null,r.a.createElement(N,{size:"4"},r.a.createElement(b,{text:"hotel #"})),r.a.createElement(N,{size:"8"},r.a.createElement(b,{text:e.hotelNum,classes:"text-right text-monospace"}))),r.a.createElement(j,null,r.a.createElement(N,{size:"4"},r.a.createElement(b,{text:"check-in"})),r.a.createElement(N,{size:"8"},r.a.createElement(b,{text:"".concat(e.checkIn.substring(5,10),"-").concat(e.checkIn.substring(0,2)),classes:"text-right text-monospace"}))),r.a.createElement(j,null,r.a.createElement(N,{size:"4"},r.a.createElement(b,{text:"check-out"})),r.a.createElement(N,{size:"8"},r.a.createElement(b,{text:"".concat(e.checkOut.substring(5,10),"-").concat(e.checkOut.substring(0,2)),classes:"text-right text-monospace"}))),e.wifiInfo.name&&r.a.createElement(j,null,r.a.createElement(N,{size:"4"},r.a.createElement(b,{text:"wifi"})),r.a.createElement(N,{size:"8"},r.a.createElement(b,{text:e.wifiInfo.name,classes:"text-right text-monospace"}))),e.wifiInfo.password&&r.a.createElement(j,null,r.a.createElement(N,{size:"4"},r.a.createElement(b,{text:"wifi pw"})),r.a.createElement(N,{size:"8"},r.a.createElement(b,{text:e.wifiInfo.password,classes:"text-right text-monospace"}))),r.a.createElement(j,{classes:"justify-content-end"},r.a.createElement(v,{classes:"btn-sm mx-1 btn-outline-danger",onClick:function(){return function(e){B(e,i).then((function(e){var t=e.data;return Z(t.lodging)})).catch((function(e){return console.log(e)}))}(e._id)},text:"delete",style:{width:"60px"}}))))}))):r.a.createElement(Q,{classes:"p-3 bg-white border"},r.a.createElement("h6",{className:"font-italic text-monospace"},"No lodging information is available"))))),r.a.createElement(j,null,r.a.createElement(N,{size:"md-12"},r.a.createElement(Q,null,r.a.createElement(X,{text:"Flight Details",id:"headerDiv"}),K.length>0?r.a.createElement(Q,{classes:"overflow-auto bg-white",style:{height:"260px"}},K.map((function(e){return r.a.createElement(Q,{classes:"rounded p-2 border-bottom",key:e._id},r.a.createElement(j,null,r.a.createElement(N,{size:"5"},r.a.createElement(b,{text:"Passenger Name"}),r.a.createElement("p",{className:"ml-2 text-monospace"},e.user)),r.a.createElement(N,{size:"7"},r.a.createElement(b,{text:"Flight Number"}),r.a.createElement("p",{className:"ml-2 text-monospace"},e.flightNo))),r.a.createElement(j,null,r.a.createElement("h6",{className:"text-bold mb-0 mt-2 ml-3"},"Departing:")),r.a.createElement(j,null,r.a.createElement(N,{size:"md-3 6"},r.a.createElement(b,{text:"From"}),r.a.createElement("p",{className:"ml-2 mb-0 text-monospace"},e.departing.airport)),r.a.createElement(N,{size:"md-3 6"},r.a.createElement(b,{text:"Date"}),r.a.createElement("p",{className:"ml-2 mb-0 text-monospace"},"".concat(e.departing.date.substring(5,10),"-").concat(e.departing.date.substring(0,2)))),r.a.createElement(N,{size:"md-3 6"},r.a.createElement(b,{text:"Time"}),r.a.createElement("p",{className:"ml-2 mb-0 text-monospace"},e.departing.time)),r.a.createElement(N,{size:"md-3 6"},r.a.createElement(b,{text:"Seat"}),r.a.createElement("p",{className:"ml-2 mb-0 text-monospace"},e.departing.seat))),r.a.createElement(j,null,r.a.createElement("h6",{className:"text-bold mb-0 mt-2 ml-3"},"Arriving:")),r.a.createElement(j,null,r.a.createElement(N,{size:"md-3 6"},r.a.createElement(b,{text:"To"}),r.a.createElement("p",{className:"ml-2 mb-0 text-monospace"},e.arriving.airport)),r.a.createElement(N,{size:"md-3 6"},r.a.createElement(b,{text:"Date"}),r.a.createElement("p",{className:"ml-2 mb-0 text-monospace"},"".concat(e.arriving.date.substring(5,10),"-").concat(e.arriving.date.substring(0,2)))),r.a.createElement(N,{size:"md-3 6"},r.a.createElement(b,{text:"Time"}),r.a.createElement("p",{className:"ml-2 mb-0 text-monospace"},e.arriving.time)),r.a.createElement(N,{size:"md-3 6"},r.a.createElement(b,{text:"Seat"}),r.a.createElement("p",{className:"ml-2 mb-0 text-monospace"},e.arriving.seat))))}))):r.a.createElement(Q,{classes:"p-3 bg-white border border"},r.a.createElement("h6",{className:"font-italic text-monospace"},"No flight information is available"))))))))};a(112);var Te=function(){var e=Object(me.a)(""),t=Object(n.useState)(),a=Object(oe.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(),i=Object(oe.a)(s,2),o=i[0],m=i[1],u=Object(n.useState)([]),E=Object(oe.a)(u,2),p=E[0],f=E[1],x=Object(n.useState)(!1),y=Object(oe.a)(x,2),C=y[0],w=y[1],S=Object(d.g)().id;return Object(n.useEffect)((function(){A().then((function(e){var t=e.data;return l(t.username)})),_(S).then((function(e){var t=e.data;return f(t.pictures)})).catch((function(e){return console.log(e)}))}),[C]),r.a.createElement(O,{fluid:!0},r.a.createElement(j,{classes:"mt-2 p-3"},r.a.createElement(N,{size:"md-3"},r.a.createElement("form",null,r.a.createElement("h3",{id:"subHeaderWord"},"upload new photo"),r.a.createElement("br",null),r.a.createElement(j,{classes:"justify-content-center"},r.a.createElement(N,{size:"md-10"},r.a.createElement(Q,{classes:"mx-auto my-2"},o?r.a.createElement(ee,{src:o,classes:"mb-2 img-thumbnail",id:"uploadPhoto"}):r.a.createElement(ee,{src:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_640.png",classes:"img-thumbnail"})),r.a.createElement(J.a,{apikey:"AG4hPSOMQruX3SKmPWtD0z",mode:"pick",onSuccess:function(e){return function(e){m(e.filesUploaded[0].url)}(e)},onError:function(e){return console.log(e)},componentDisplayMode:{type:"button",customText:"upload"}}))),r.a.createElement(j,{classes:"mt-2"},r.a.createElement(N,{size:"md-12"},r.a.createElement(g,null,r.a.createElement(h,Object.assign({name:"caption",value:e,placeholder:"Caption This Photo"},e.eventBind)),r.a.createElement(v,{text:"Add Picture",onClick:function(t){t.preventDefault(),o&&V(S,{src:o,caption:e.value}).then((function(t){t.data;e.setValue(""),m(""),w(!0)})).catch((function(e){return console.log(e)}))},classes:"btn-danger mt-1"})))))),r.a.createElement(N,{size:"md-9"},r.a.createElement(j,null,r.a.createElement("h3",{id:"subHeaderWord",className:"mx-auto"},"gallery"),r.a.createElement("br",null)),r.a.createElement(j,{id:"galleryDiv",classes:"justify-content-center p-1"},p.map((function(e){return r.a.createElement(Z,{key:e._id,classes:"float-left border-dark mx-2"},r.a.createElement(ee,{src:e.src,alt:"picture ".concat(e._id),id:"galleryPhoto"}),r.a.createElement(Q,null,r.a.createElement(v,{classes:"float-right btn-sm text-danger",text:r.a.createElement("i",{className:"far fa-times-circle"}),style:{width:"auto"},onClick:function(){return t=e._id,void L(t,{tripId:S}).then((function(e){return e.data,w(!0)}));var t}}),r.a.createElement(Q,{classes:"ml-4"},r.a.createElement("strong",null,c)),r.a.createElement(Q,{classes:"ml-4 overflow-auto",style:{width:"240px",height:"50px"}},e.caption?r.a.createElement(b,{text:e.caption}):"")))}))))))},ke=a(62),Ie=a.n(ke),Ae=a(23),_e=Object(n.createContext)(),Pe=_e.Provider,We=function(e,t){switch(t.type){case"SET_CURRENT_IDEA":return Object($.a)(Object($.a)({},e),{},{currentIdea:t.idea,loading:!1});case"UPDATE_IDEAS":return Object($.a)(Object($.a)({},e),{},{ideas:Object(Ae.a)(t.ideas),loading:!1});case"ADD_IDEA":return Object($.a)(Object($.a)({},e),{},{ideas:[t.idea].concat(Object(Ae.a)(e.ideas)),loading:!1});case"REMOVE_IDEA":return Object($.a)(Object($.a)({},e),{},{ideas:e.ideas.filter((function(e){return e._id!==t._id}))});case"LOADING":return Object($.a)(Object($.a)({},e),{},{loading:!0});default:return e}},Re=function(e){e.value;var t=Object(p.a)(e,["value"]),a=Object(n.useReducer)(We,{ideas:[],currentIdea:{_id:0,idea:"",address:"",user:"",mustDo:!1,suggestion:!1},favorites:[],loading:!1}),c=Object(oe.a)(a,2),l=c[0],s=c[1];return console.log(l),r.a.createElement(Pe,Object.assign({value:[l,s]},t))},Fe=function(){return Object(n.useContext)(_e)};var Ue=function(){var e=Object(n.useState)(""),t=Object(oe.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)({}),s=Object(oe.a)(l,2),i=s[0],o=s[1],m=Object(n.useState)({id:"",firstName:"",lastName:""}),u=Object(oe.a)(m,2),d=u[0],E=u[1],p=Object(n.useState)(""),b=Object(oe.a)(p,2),x=b[0],O=b[1],y=Object(n.useState)(!1),C=Object(oe.a)(y,2),w=C[0],S=C[1],D=Object(n.useState)(!1),z=Object(oe.a)(D,2),T=z[0],k=z[1],I=Fe(),_=Object(oe.a)(I,2),P=(_[0],_[1]);function W(e){var t=e.target,a=t.name,n=t.value;"idea"===a&&c(n),e.target.checked&&("mustDo"===n?S(!0):k(!0))}return Object(n.useEffect)((function(){var e=window.location.search;e=e.split("="),O(e[1]),A().then((function(e){var t=e.data,a=t.firstName,n=t.lastName,r=t._id;E({id:r,firstName:a,lastName:n})})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement("div",null,r.a.createElement(Z,{classes:"border-dark",style:{backgroundColor:"#f8f5f0"}},r.a.createElement("h1",{className:"text-center",id:"headerWordTeal"},"Get To Planning"),r.a.createElement("h4",{className:"text-center",id:"subHeaderWord"},"Start adding ideas for our trip"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),P({type:"LOADING"}),H(x,{idea:a,address:i,user:d,mustDo:w,suggestion:T}).then((function(e){console.log(e.data);var t=e.data.length-1;P({type:"ADD_IDEA",idea:e.data[t]})})).catch((function(e){return console.log(e)})),c(""),o("")},style:{margin:"0"}},r.a.createElement(j,null,r.a.createElement(g,{className:"px-4",style:{width:"100%"}},r.a.createElement(f,{text:"What to see, what to do, what to eat?"}),r.a.createElement(h,{name:"idea",value:a,onChange:W,placeholder:"Ex: Grand Canyon"}))),r.a.createElement(j,null,r.a.createElement(g,{className:"px-4",style:{width:"100%"}},r.a.createElement(f,{text:"Add the address of the location:"}),r.a.createElement(je.a,{placeholder:"Search by address",options:{appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).appID,apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).apiKEY,language:"en",type:"address"},onChange:function(e){var t=e.suggestion;return o(t)}}))),r.a.createElement(j,null,r.a.createElement(g,{className:"px-4",style:{width:"100%"}},r.a.createElement(f,{classes:"mt-2",text:"Is this a must do or a suggestion?"}),r.a.createElement("div",{className:"checkform ml-4"},r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement(h,{className:"form-check-input",type:"radio",name:"typeOfIdea",id:"mustDoIdea",value:"mustDo",onChange:W}),r.a.createElement(f,{className:"form-check-label m-0",htmlFor:"mustDoIdea",text:"Must Do"})),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement(h,{className:"form-check-input",type:"radio",name:"typeOfIdea",id:"suggestionIdea",value:"suggestion",onChange:W}),r.a.createElement(f,{className:"form-check-label m-0",htmlFor:"suggestionIdea",text:"Just a Suggestion"}))))),r.a.createElement(j,{className:"row mt-2 justify-content-md-center pb-2"},r.a.createElement(N,{size:"md-11"},r.a.createElement(v,{classes:"btn-danger btn-sm",type:"submit",text:"Add To List"}))))))};var Me=function(){var e=Object(n.useState)(""),t=Object(oe.a)(e,2),a=t[0],c=t[1],l=Fe(),s=Object(oe.a)(l,2),i=s[0],o=s[1];return Object(n.useEffect)((function(){var e,t=window.location.search;t=t.split("="),c(t[1]),e=t[1],o({type:"LOADING"}),_(e).then((function(e){var t=e.data;o({type:"UPDATE_IDEAS",ideas:t.toDos})})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement(O,null,r.a.createElement("h1",{className:"text-center",id:"headerWordCreme"},"Current Ideas"),i.ideas.length?r.a.createElement(Se,null,i.ideas.map((function(e){return r.a.createElement(De,{key:e._id},r.a.createElement(v,{classes:"float-right btn-sm mx-1 btn-outline-danger",onClick:function(){return t=e._id,void Y(t,a).then((function(e){o({type:"REMOVE_IDEA",_id:t})})).catch((function(e){return console.log(e)}));var t},text:r.a.createElement("i",{className:"far fa-times-circle"}),style:{width:"auto"}}),r.a.createElement("i",{className:"fas fa-map-marked-alt fa-2x mx-3"}),r.a.createElement("small",{className:"d-inline-flex text-monospace mr-3"},"".concat(e.idea," by ").concat(e.user.firstName," ").concat(e.user.lastName)),e.mustDo?r.a.createElement(b,{text:"(must do)",classes:"d-inline-flex"}):r.a.createElement(b,{text:"(suggestion)",classes:"d-inline-flex"}))}))):r.a.createElement("h4",{id:"subHeaderWord",className:"my-5"},"No idea yet.",r.a.createElement("br",null)," Someone think of something!"))},Be=function(){return r.a.createElement(O,null,r.a.createElement(j,null,r.a.createElement(N,{size:"md-6"},r.a.createElement(Ue,null)),r.a.createElement(N,{size:"md-6"},r.a.createElement(Me,null))))},Ve=a(20),Le=a.n(Ve),Ye=a(31),He=function(e,t){switch(t.type){case"GET-TRANSACTIONS":return Object($.a)(Object($.a)({},e),{},{transactions:t.payload,loading:!1});case"REMOVE-TRANSACTION":return Object($.a)(Object($.a)({},e),{},{transactions:e.transactions.filter((function(e){return e._id!==t.payload}))});case"ADD-TRANSACTION":return Object($.a)(Object($.a)({},e),{},{transactions:[].concat(Object(Ae.a)(e.transactions),[t.payload])});case"TRANSACTION_ERROR":return Object($.a)(Object($.a)({},e),{},{error:t.payload});default:return e}},Ke={transactions:[],error:null,loading:!0},Ge=Object(n.createContext)(Ke),$e=function(e){var t=e.children,a=Object(n.useReducer)(He,Ke),c=Object(oe.a)(a,2),l=c[0],s=c[1];function i(){return(i=Object(Ye.a)(Le.a.mark((function e(t){var a,n;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("/api/trip/".concat(t));case 3:a=e.sent,n=a.data,s({type:"GET-TRANSACTIONS",payload:n.expenses}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s({type:"TRANSACTION_ERROR",payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function o(){return(o=Object(Ye.a)(Le.a.mark((function e(t,a){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.put("/api/trip/".concat(t,"/transaction/").concat(a));case 3:s({type:"REMOVE-TRANSACTION",payload:a}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s({type:"TRANSACTION_ERROR",payload:e.t0.response.data.error});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function m(){return(m=Object(Ye.a)(Le.a.mark((function e(t,a){var n,r,c;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,S.a.put("/api/trip/".concat(t,"/transaction"),a,n);case 4:r=e.sent,c=r.data,s({type:"ADD-TRANSACTION",payload:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),s({type:"TRANSACTION_ERROR",payload:e.t0.response.data.error});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return r.a.createElement(Ge.Provider,{value:{transactions:l.transactions,error:l.error,loading:l.loading,getTransactions:function(e){return i.apply(this,arguments)},deleteTransaction:function(e,t){return o.apply(this,arguments)},addTransaction:function(e,t){return m.apply(this,arguments)}}},t)};function qe(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var Je=function(){var e=Object(n.useContext)(Ge).transactions.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0).toFixed(2);return r.a.createElement("div",null,r.a.createElement("h4",{id:"headerWordCreme"},"Your Balance"),r.a.createElement("h4",{id:"headerWordCreme"},"$",qe(e)))},Ze=function(){var e=Object(n.useContext)(Ge).transactions.map((function(e){return e.amount})),t=e.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0).toFixed(2),a=(-1*e.filter((function(e){return e<0})).reduce((function(e,t){return e+t}),0)).toFixed(2);return r.a.createElement("div",{className:"bud-exp-container"},r.a.createElement("div",null,r.a.createElement("h4",{id:"subHeaderWord"},"Budget"),r.a.createElement("p",{className:"money plus"},"$",qe(t))),r.a.createElement("div",null,r.a.createElement("h4",{id:"subHeaderWord"},"Expense"),r.a.createElement("p",{className:"money minus"},"$",qe(a))))},Qe=function(e){var t=e.tripId,a=e.transaction,c=Object(n.useContext)(Ge).deleteTransaction,l=a.amount<0?"-":"+";return r.a.createElement("li",{className:a.amount<0?"minus":"plus"},a.reason,r.a.createElement("span",null,l,"$",qe(Math.abs(a.amount))),r.a.createElement(v,{onClick:function(){return c(t,a._id)},className:"delete-btn",text:"x",style:{width:"auto"}}))},Xe=function(){var e=Object(n.useContext)(Ge),t=e.transactions,a=e.getTransactions,c=Object(d.g)().id;return Object(n.useEffect)((function(){!function(e){a(e)}(c)}),[]),r.a.createElement("div",null,r.a.createElement("h2",{id:"subHeaderWord"},"History"),r.a.createElement("ul",{className:"list"},t.map((function(e){return r.a.createElement(Qe,{key:e._id,transaction:e,tripId:c})}))))},et=function(){var e=Object(n.useState)(""),t=Object(oe.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(0),s=Object(oe.a)(l,2),i=s[0],o=s[1],m=Object(n.useContext)(Ge).addTransaction,u=Object(d.g)().id;return r.a.createElement("div",null,r.a.createElement("h2",{id:"subHeaderWord"},"Add New Expense"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),m(u,{reason:a,amount:i}),c(""),o("")},className:"px-5"},r.a.createElement(g,null,r.a.createElement("label",{htmlFor:"text"},"Expense Description"),r.a.createElement("input",{name:"reason",type:"text",value:a,onChange:function(e){return c(e.target.value)},placeholder:"Ex: Excursion tickets"})),r.a.createElement(g,null,r.a.createElement("label",{htmlFor:"Transaction Amount"},"Total Amount ",r.a.createElement("br",null),"(Use negative - for expense, positive + budget)"),r.a.createElement("input",{name:"amount",type:"number",value:i,onChange:function(e){return o(e.target.value)},placeholder:"Ex: -400.00"})),r.a.createElement(v,{classes:"btn-dark",text:"Add Transaction"})))};a(114);var tt=function(){return r.a.createElement($e,null,r.a.createElement(O,{className:"budget-container"},r.a.createElement(j,null,r.a.createElement(N,{size:"md-12"},r.a.createElement("h3",{id:"headerWordCreme",className:"p-2 m-2"},"Budget For The Trip"))),r.a.createElement(j,null,r.a.createElement(N,{size:"md-4"},r.a.createElement(Je,null),r.a.createElement(Ze,null)),r.a.createElement(N,{size:"md-4"},r.a.createElement(Xe,null)),r.a.createElement(N,{size:"md-4"},r.a.createElement(et,null)))))},at=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={userId:"",authorized:!1,display:!1},e.isAuthorized=function(){e.findUser(),T().then((function(t){e.setState({authorized:!t.data.message,display:!0})})).catch((function(t){console.log(t),e.setState({authorized:!1,display:!0})}))},e.logout=function(){k().then((function(t){console.log("logged out"),e.isAuthorized()})).catch((function(e){console.log(e)}))},e.setRedirect=function(t){e.setState({redirect:t})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.isAuthorized()}},{key:"findUser",value:function(){var e=this;A().then((function(t){var a=t.data._id;e.setState({userId:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement(ce,{authorized:this.state.authorized,logout:this.logout}),r.a.createElement(ie,null,this.state.display?r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/"},this.state.authorized?r.a.createElement(ve,null):r.a.createElement(ae,null)),r.a.createElement(d.b,{exact:!0,path:"/login"},this.state.authorized?r.a.createElement(ve,{logout:this.logout}):r.a.createElement(G,{isAuthorized:this.isAuthorized,authorized:this.state.authorized,redirect:window.location.pathname})),r.a.createElement(d.b,{exact:!0,path:"/register"},this.state.authorized?r.a.createElement(ve,{logout:this.logout}):r.a.createElement(te,{isAuthorized:this.isAuthorized})),r.a.createElement(d.b,{exact:!0,path:"/newtrip"},this.state.authorized?r.a.createElement(ye,{userId:this.state.userId}):r.a.createElement(d.a,{to:"/login"})),r.a.createElement(d.b,{exact:!0,path:"/jointrip"},this.state.authorized?r.a.createElement(Ce,null):r.a.createElement(d.a,{to:"/login"})),r.a.createElement(d.b,{exact:!0,path:"/trip/:id"},this.state.authorized?r.a.createElement(ze,null):r.a.createElement(d.a,{to:"/login"})),r.a.createElement(d.b,{exact:!0,path:"/gallery/:id"},this.state.authorized?r.a.createElement(Te,null):r.a.createElement(d.a,{to:"/login"})),r.a.createElement(d.b,{exact:!0,path:"/budget/:id"},this.state.authorized?r.a.createElement(tt,null):r.a.createElement(d.a,{to:"/login"})),r.a.createElement(Re,null,r.a.createElement(d.b,{exact:!0,path:"/ideas"},this.state.authorized?r.a.createElement(Be,null):r.a.createElement(d.a,{to:"/login"}))),r.a.createElement(d.b,null,r.a.createElement(d.a,{to:"/"}))):""),r.a.createElement(le,null,r.a.createElement(se,{classes:"text-center mx-right"},"View on Github",r.a.createElement("br",null),r.a.createElement("small",null,r.a.createElement("a",{href:"https://github.com/kimnana45/The-Travelers-Compass",target:"_blank",className:"text-dark"},"project repo"))),r.a.createElement(se,{classes:"text-center mx-auto d-none d-sm-block"},r.a.createElement("small",null,"This application was created using the MERN stack.",r.a.createElement("br",null),r.a.createElement("img",{src:Ie.a,alt:"mern icon",className:"mx-auto",style:{width:"100px"}}))),r.a.createElement(se,{classes:"text-center mx-left"},"Developed by",r.a.createElement("br",null),r.a.createElement("small",null,"Kim Le and Eunah Kim"))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(at,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},25:function(e,t,a){e.exports=a.p+"static/media/header.38a13f50.png"},57:function(e,t,a){e.exports=a.p+"static/media/logo2.a1a8b6ac.png"},62:function(e,t,a){e.exports=a.p+"static/media/mern.11ec2800.png"},63:function(e,t,a){e.exports=a(115)},68:function(e,t,a){},69:function(e,t,a){},86:function(e,t,a){},99:function(e,t,a){}},[[63,1,2]]]);
//# sourceMappingURL=main.215d0dea.chunk.js.map